# Chap 3

### Kubectl 명령어

- run, create: pod와 deployment 생성
- get, exec: 생성된 pod 현황 조회 및 pod 내 bash 스크립트 실행
- scale, delete: pod의 수량 증가/감소 및 오브젝트 삭제
- create namespace: 네임스페이스 생성

### 쿠버네티스 오브젝트

- 쿠버네티스 API 서버로 생성하는 영속성을 가지는 모든 실체
- 애플리케이션을 실행하고 애플리케이션에 필요한 추가 리소스를 지정하고 고가용성 관련 설정 등을 실행
- pod, deployment, namespace 등이 오브젝트에 해당
- 모든 오브젝트는 API 서버로 생성
- 사용자가 쿠버네티스 명령어를 실행하면 쿠버네티스는 해당 명령어의 API를 호출해서 오브젝트를 실행

### Pod

- 쿠버네티스 환경에서 컨테이너 애플리케이션을 실행하는 기본 단위
- 단일 컨테이너만 실행하지만 2개 이상의 컨테이너도 하나의 파드 안에서 실행 가능
- 컴퓨팅, 네트워크, 스토리지를 모듈 형태로 묶어서 시스템 확장 시 사용하는 기본 단위
- 각 파드는 고유한 IP 주소와 볼륨을 소유
- 개별 파드가 사용하는 볼륨은 호스트 노드의 /var/lib/containers/{파드 이름} 디렉터리
- 파드 생성은 kebectl run이나 kebectl create 명령어를 사용
- 생성된 파드 목록은 get 명령어로 조회
- 개별 파드는 bash 실행(exec)해서 접속
- 파드 개수는 scale 명령어로 증가/감소
- delete로 파드 삭제

### Deployment

- 파드가 배포되는 방법을 정의하는 오브젝트
- 파드의 개수, 이미지 종류, 배포 방법 등을 정의
- 파드의 개수를 변경하려면 Deployment로 실행해야 함

### kubectl 명령어 구조

kubectl + create + deplyment + httpd + —image=httpd

- create: 만들다. 무엇을?
- deployment: 디플로이멘트 오브젝트를 .어떤 이름으로?
- httpd: httpd라는 이름으로. 옵션은?
- —image=httpd: 이미지는 httpd로 지정
- create로 네임스페이스, 시크릿, 디플로이멘트 등의 간단한 오브젝트를 생성할 수 있음

### k delete pod (Pod name)

- 기존 파드는 삭제되고 자동으로 새로운 파드가 생성
- 왜? →쿠버네티스는 항상 의도한 상태를 자동으로 유지하려고 하기 때문
- 파드 수량을 유지하기 위해 자동으로 파드를 생성

### 네임스페이스

- 클러스터를 구분하는 가상 클러스터 단위
- 네임스페이스가 다르면 같은 이름의 오브젝트를 생성할 수 있다
- k ns {namespace name|으로 현재 사용 중인 네임스페이스를 변경할 수 있다
- 네임스페이스는 클러스터를 가상으로 구분하는 단위라서 물리적으로 완전하게 분리하지는 못한다