# 쿠버네티스 트러블 슈팅의 기본 프로세스

### 일반적인 쿠버네티스 작업 순서
1. apply
2. get
3. describe
4. logs
5. get event

대부분의 쿠버네티스 환경의 문제는 위와 같은 순서의 디버깅 프로세스로 해결 가능

쿠버네티스는 에러 메시지가 직관적이라 이해하기 쉬움
VM 이 아닌, 컨테이너 기반이기 때문에 이식성이 높음
자동 복구와 같은 컨테이너 오케스트레이션 기능이 뛰어남


## 기본 에러 조치 프로세스의 이해
`kubectl logs -f ${resource}` 라는 명령어를 입력하면 실시간 로그 조회 가능

특정 자원이 아닌 클러스터 레벨의 에러는 `kubectl get events` 명령어를 통해 확인 가능

## 장애 처리 사례: 호스트 노드의 파일 시스템 용량 초과
호스트 노드의 자원 부족은 흔히 발생하는 문제

자원이 부족한 노드가 발생하면
자동으로 해당 노드의 파드를 종료시키고, 자원의 여유가 있는 다른 노드에 새로 생성함

이런 경우, 애플리케이션 문제가 아니라 노드의 문제이므로 클러스터 이벤트로 확인할 수 있음

이처럼 VM 환경에서는 문제가 발생하면 문제를 해결하려 했지만, 쿠버네티스 환경에서는 애플리케이션에 문제가 발생하면 파드를 종료하고 새로운 파드를 생성함

이는 애플리케이션 장애 시간을 줄이는 주요 전략이며, Pets vs Cattle 개념으로 이야기 함
컨테이너 환경이기에 가능한 일

`kubectl describe ${node_name}` 으로도 확인 가능

